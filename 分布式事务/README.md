### 分布式事务

#### 1.什么是事务？

事务可以看做是一次大的活动，它由不同的小活动组成，这些活动要么全部成功，要么全部失败。

#### 2.什么是本地事务？

在计算机系统中，更多的是通过关系型数据库来控制事务，这是利用数据库本身的事务特性来实现的，因此叫数据库事务，由于应用主要靠关系数据库来控制事务，而数据库通常和应用在同一个服务器，所以基于关系型数据库的事务叫做本地事务。

#### 3.什么是分布式事务

由于原来的软件系统变成了分布式应用，分布式系统将每一个应用系统拆分为可独立部署的多个服务，因此需要服务与服务之间远程协作才能完成分布式操作，这种分布式系统环境下的事务机制称之为分布式事务。

#### 4.分布式事务的产生的原因

- 数据库分库分表
  - 由于单表的数据量巨大导致的分库分表
- 应用SOA化(Service Oriented Architecture)
  - 业务的服务化。多个业务中心有各自的数据库，也会涉及多个数据库的一致性问题

#### 2.数据库事务的四大特性

(*Atomic*)原子性：事务的操作要么全部成功，要么全部失败

(*Consistency*)一致性：在事务的执行前后，数据库的一致性约束保持一致。

(*Isolation*)隔离性：数据库中的事务都是并发的，隔离性是指并发的两个事务互相不干扰。

(*Durabilitity*)持久性：一旦事务提交成功，事务中所有的数据操作都必须被持久化到数据库中，即使提交事务后，数据库马上崩溃，在数据库重启时，也必须能保证通过某种机制恢复数据。